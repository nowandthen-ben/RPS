<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE GREAT GAME OF WITS</title>
</head>
<body>
    <div>
        <p>The great contest of our time is that of man versus machine, creator against his creation.</p>
        <p>You too must try yourself in the fires of this conflict. Do you have what it takes to overcome?</p>
    </div>
    <div>CHOOSE YOUR WEAPON:</div>
    <button>ROCK</button>
    <button>PAPER</button>
    <button>SCISSORS</button>
    <div class="score">SCORE:
        <div>HUMAN:</div>
        <div>MACHINE:</div>
    </div>
    <script>
        let compChoice;
        let humanChoice;
        function computerSelect() {
            compChoice = Math.floor(Math.random() * 3);
        }
        function humanSelect() {
            while (true) {
                tool = prompt("Arm yourself!").toLowerCase();
                switch (tool) {
                    case "rock":
                        humanChoice = 0;
                        break;
                    case "paper":
                        humanChoice = 1;
                        break;
                    case "scissors":
                        humanChoice = 2;
                        break;
                    default:
                        humanChoice = -1;
                        break;
                }
                if (humanChoice < 0) {
                    alert("INVALID INPUT, TRY AGAIN");
                }
                else {
                    break;
                }
            }
        }
        function translate(x) {
            let num = x;
            let translation;
            switch (num) {
                case 0:
                    return "rock";
                    break;
                case 1:
                    return "paper";
                    break;
                case 2:
                    return "scissors";
                    break;
            }
        }
        function rps(x = 5) {
            let hScore = 0;
            let cScore = 0;
            while (hScore + cScore < x) {
                humanSelect();
                computerSelect();
                console.log(`Computer chose: ${translate(compChoice)}`);
                switch ((2 * humanChoice + compChoice) % 3) {
                    case 0:
                        console.log("TIE GAME");
                        break;
                    case 1:
                        console.log("YOU LOSE");
                        cScore++;
                        console.log(`HUMAN: ${hScore}, MACHINE: ${cScore}`);
                        break;
                    case 2:
                        console.log("YOU WIN");
                        hScore++;
                        console.log(`HUMAN: ${hScore}, MACHINE: ${cScore}`);
                        break;
                }
            }
            console.log(`GAME OVER. VICTOR: ${hScore > cScore ? 'HUMAN' : 'MACHINE'}.`)
        }
    </script>
</body>
</html>